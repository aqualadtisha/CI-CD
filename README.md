# CI-CD

Разработка простого **CI/CD** для проекта реализации 2х консольных утилит на С. \
Включает стадии - Сборка, тестирование, развертывание.

- Проект разработан под виртуальную машину *Ubuntu Server 20.04 LTS* с **gitlab-runner**
- Реализация находится в файле _.gitlab-ci.yml_
- Артефакты сохраняются в течение 30 дней.
- При фейле этапа кодстайла, фейлится пайплайн и выводится результат от *clang-format*
- Этап тестов запускается автоматически, если сборка и тест кодстайла прошли успешно
- Этап деплоя разворачивает проект на другой виртуальной машине. Запускается вручную.

В папке проекта лежит скрипт script.sh, который при помощи **ssh** и **scp** копирует файлы, полученные после сборки (артефакты), в директорию */usr/local/bin* второй виртуальной машины

*(Для этого были прописаны адреса виртуальных машин, чтобы поместить их в одну локальную сеть, и был настроен доступ по ssh к рут-пользователю второй машины для копирования в системную папку)*

В папке проекта лежит скрипт not.sh, который отправляет уведомления о успешном/неуспешном выполнении этапов пайплайна через бота в *Telegram*
